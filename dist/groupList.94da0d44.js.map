{"version":3,"sources":["scripts/utils/utils.js","scripts/groupLists/GroupModal.js","scripts/groupLists/newGroupTable.js","scripts/groupLists/groupList.js"],"names":["genderTranform","gender","convertDatoToAge","birthdate","convertBirthDate","Date","split","reverse","join","dateNow","diff","months","Math","floor","years","month","getKeyValuesPairs","form","inputsArray","querySelectorAll","console","log","emptyObject","map","input","key","name","value","modalClose","modal","innerModal","closeModalEl","document","createElement","classList","add","textContent","addEventListener","remove","insertAdjacentElement","groupModal","modalData","firstElementChild","innerHTML","first_name","last_name","birth_date","mothers_name","mothers_phone","fathers_name","fathers_phone","notes","GroupList","groupData","tableWrapper","newTable","prototype","groupTable","style","display","setAttribute","group_name","students","forEach","student","i","studentRow","querySelector","studentRowContent","insertAdjacentHTML","slider","groupListEl","fetchData","urlGroups","response","fetch","data","json","item","sliderData","sliderClickHandling","sliderWrapper","childNodes","card","dataset","clicked","sliderInnerCard","e","currentTarget","table","group_icon","length"],"mappings":";;AGAA;;AAEA,MAAMsE,MAAM,GAAGtC,QAAQ,CAACmC,aAAT,CAAuB,SAAvB,CAAf;AACA,MAAMI,WAAW,GAAGvC,QAAQ,CAACmC,aAAT,CAAuB,aAAvB,CAApB,EAEA;;AFLA,AEMA,ADNA,eCMeK,SAAf,GAA2B;AACzB,QAAMC,SAAS,GAAG,8BAAlB;AFLF,AEME,ADPF,QCOQC,QAAQ,GAAG,MAAMC,KAAK,CAACF,SAAD,CAA5B;AFLK,AEMLrD,AHTF,EGSEA,OFNcoB,AEMP,CAACnB,GAAR,CAAYqD,KFNP,CAAoB7C,EEMzB,GFNK,EAA2BY,SAA3B,EAAsC;AAC3CZ,AEMA,ADPF,AFDA,ECEEA,KAAK,CAACK,AEMA0C,IAAI,GAAG,EFNb,CAAgBzC,GAAhB,AEMmBuC,CFNC,OEMO,CAACG,IFN5B,AEMmB,EAAnB;AFLA,AEOAD,ADRK,AFDA,EGSLA,IAAI,CAACb,CFPCjC,CCDQsB,AFDApD,KGSd,CAAa8E,GFPG,ACDX,CCQY,ADROzB,EDCLxB,EEOE,AHThB,CAAwB5B,ECEL,CAACyC,CCDpB,EAA8BY,AFD9B,EAAgC,UEChC,EDCL,ACDiD;ADEjDxB,AEOEiD,ADRF,AFDA,ECEAjD,EEOEiD,GDRG1B,EFDEpD,GCEG,CAAC0C,CEOC,CAACmC,AHTA,CECb,GCQY,ADRKzB,CCQf,AHTgB,ECElB,GAAwB,CDFjB,EECP,CFAK,kGADE,GAEF,6FAFL;AGUC,ADRD,AFCD,EAED,CGGE,IDNKC,YAAL,GAAoBA,YAApB;ACSD,ADRC,OAAKC,IDCId,ICDT,CAAc,IDCI,CAACG,ACDAS,SAAnB,CDC8B,IAAGZ,SAAS,CAACI,SAAU;ACAtD,+CDC8CJ,SAAS,CAACK,UAAW;AEQpE0B,AHPO,SGOE,AHPOtE,IGShB,YHTO,CAA0BC,SAA1B,EAAqC,SCAE,6BACtCsC,SAAS,CAACK,UAD4B,CAEtC;ACFRM,AFCE,QAAMhD,CEDC,CAACoD,SAAV,CAAoBD,IFCI,GAAG,CED3B,GAA+B,AFCAlD,IAAJ,CACvBF,KEFoCkD,IFE3B,CACN/C,IEHwB,CFE3B,CEF+C,AFGtC,GADT,EAEGC,OAFH,GAGGC,IAHH,CAGQ,GAHR,CADuB,CAAzB;AGSF,ADTE,AFOA,QAAMC,CGECuE,MHFM,GAAG,IAAI3E,IAAJ,EGElB,AHFE,CGE2B4E,aAA7B,EAA4C;AAC1C7D,ADTA,AFOA,EGEAA,MDTMqC,AFOA/C,CGEC,CAACW,EHFE,CGEV,CAAY4D,CHFCxE,GEPG,GAAGuB,CFOC,GAAG5B,EGEE,CAAC8E,CDTC,CAACjD,QCS5B,GHFA,EEPmB,CAAuB,KAAvB,CAAnB;ACUAgD,ADTAxB,AFOA,EGEAwB,ADTAxB,MFOM9C,IEPI,CAACuB,CFOC,CGEC,CAACgD,CHFCtE,IAAI,CEPnB,AFOoBC,CEPCsB,GCSrB,ADTA,CDGyBM,AEMAsB,ADTA,AFOV,CAAWrD,IAAI,EGE9B,CAAiCyE,CFNC,ADIA,CCJCpC,EEME,CDTrC,GCS0CoC,AHFD,EAAP,EGEY,CAACC,AHFD,CCJE,CDId,GAAiB,EGET,AHFR,CGEqBC,EHFC,EAA1B,CAAf,CAAf,CGE0C,GAAuB,OAAjE;AACD,ADTC5B,AFOA,EGIF,ADXEA,MFOM3C,IEPI,CAAC4C,AFOA,GAAG9C,EEPd,CAAiB+C,CFOC,CAAC9C,KEPnB,AFOc,CAAWF,EEPE,IFOI,EEP/B,CFOkC,EAApB,CAAd,ECJuC8B,SAAS,CAACO,aAAc;ACF/DS,AFOA,EEPAA,MFOM1C,IEPI,CAAC6C,AFOA,GAAGjD,MAAM,GEPpB,AFOuB,CEPC,CFOxB,gBEPA,EAA4C,GAAE0C,SAAS,CAACQ,UAAW,EAAnE,EALiD,CAOjD;AFMA,SAAQ,GAAE/C,KAAM,UCJS2B,IDII1B,KCJK,ADIC,CCJAkC,YAAa,ADIhD;AGGF,ADREI,AFMD,EENCA,AFQF,OGAS0B,EDRE,CAACjB,OCQZ,CAAoBT,ADRlB,CAAmBU,OAAnB,CCQF,ADR6B,CAACC,CCQC,MDRF,EAAUC,CAAV,CDEYxB,ICFI,KDEK,CAACS,aAAc;AEO/D,ADRE,QCQIoC,EDREpB,UAAU,GCQG,ADRAlC,GCQGA,KDRK,CAACC,ECQE,CAACA,UDRZ,CAAuB,ECQpB,CAAuB,EDR1B,CAAnB,ECQsB,CAAxB;AACAqD,ADREpB,ECQFoB,EDREpB,UAAU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","file":"groupList.94da0d44.js","sourceRoot":"..","sourcesContent":["/* UTILS */\n\n// Transforms gender string to icon\nexport function genderTranform(gender) {\n  return gender === 'Male'\n    ? `<i class=\"fas fa-mars\" style='background-color: #cbe4f9; color: #4C90C3; padding: 7px 9px;'></i>`\n    : `<i class=\"fas fa-venus\" style='background: #f5e0f7; color:#ac7ab8; padding: 8px 11px;'></i>`;\n}\n\n// Tranforms date to dd.mm.yyyy\nexport function convertDatoToAge(birthdate) {\n  const convertBirthDate = new Date(\n    birthdate\n      .split('.')\n      .reverse()\n      .join('/')\n  );\n\n  const dateNow = new Date();\n  const diff = dateNow - convertBirthDate;\n  const months = Math.floor(diff / (1000 * 60 * 60 * 24 * 30));\n  const years = Math.floor(months / 12);\n  const month = months % 12;\n  return `${years} years and ${month} months old`;\n}\n\n// Gets input values form form and tranforms them in to key/values for object\nexport function getKeyValuesPairs(form) {\n  const inputsArray = [...form.querySelectorAll('.as-form-input')];\n  console.log(inputsArray);\n  const emptyObject = {};\n  inputsArray.map(input => {\n    const key = input.name;\n    return (emptyObject[key] = `${input.value}`);\n  });\n  console.log(emptyObject);\n  return emptyObject;\n}\n\n// Closes modal\nexport function modalClose(modal, innerModal) {\n  const closeModalEl = document.createElement('div');\n  closeModalEl.classList.add('modal-close');\n  closeModalEl.textContent = 'X';\n  closeModalEl.addEventListener('click', () => {\n    modal.classList.remove('modal-open');\n  });\n  innerModal.insertAdjacentElement('beforeend', closeModalEl);\n}\n","import { convertDatoToAge, modalClose } from '../utils/utils.js';\n\n// Creates and opens modal for group list item\nexport function groupModal(modal, modalData) {\n  modal.classList.add('modal-open');\n  const innerModal = modal.firstElementChild;\n  innerModal.innerHTML = `\n    <section class=\"modal-child-info\">\n      <p>${modalData.first_name} ${modalData.last_name}</p>\n      <p><i class=\"fas fa-birthday-cake\"></i>${modalData.birth_date}</p>\n      <p><i class=\"far fa-calendar-alt\"></i>${convertDatoToAge(\n        modalData.birth_date\n      )}</p>\n    </section>\n    <section class=\"modal-parents-info\">\n      <div class=\"modal-mother-info\">\n        <p>Mothers name: ${modalData.mothers_name}</p>\n        <p><i class=\"fas fa-phone\"></i>${modalData.mothers_phone}</p></div>\n      <div class=\"modal-father-info\">\n        <p>Fathers name: ${modalData.fathers_name}</p>\n        <p><i class=\"fas fa-phone\"></i>${modalData.fathers_phone}</p>\n      </div>\n    </sections>\n    <section class=\"modal-child-notes\">\n      <p><i class=\"fas fa-sticky-note\"></i>${modalData.notes}</p>\n    </sections>\n  `;\n  modalClose(modal, innerModal);\n}\n","import { genderTranform, convertDatoToAge } from '../utils/utils.js';\nimport { groupModal } from './GroupModal.js';\n\n// Create GroupList Object\nexport function GroupList(groupData, tableWrapper) {\n  this.groupData = groupData;\n  this.tableWrapper = tableWrapper;\n  this.newTable(this.groupData);\n}\n\nGroupList.prototype.newTable = function(groupData) {\n  // Creates Table\n  const groupTable = document.createElement('div');\n  groupTable.classList.add('table-style');\n  groupTable.style.display = 'none';\n  groupTable.setAttribute('data-group_name', `${groupData.group_name}`);\n\n  // For each student create table row\n  groupData.students.forEach((student, i) => {\n    const studentRow = document.createElement('div');\n    studentRow.classList.add('table-row');\n    studentRow.addEventListener('click', () =>\n      groupModal(document.querySelector('.modal'), student)\n    );\n    const studentRowContent = `\n            <div class=\"table-cell-wrapper\">\n                <div class=\"table-cell\">${i + 1}</div>\n                <div class=\"table-cell\">${genderTranform(student.gender)} ${\n      student.first_name\n    } ${student.last_name}</div>\n            </div>\n            <div class=\"table-cell age-cell\"><i class=\"age-icon far fa-calendar-alt\"></i>${convertDatoToAge(\n              student.birth_date\n            )}</div>\n        `;\n\n    // Append row content to row and row to table\n    studentRow.insertAdjacentHTML('beforeend', studentRowContent);\n    groupTable.insertAdjacentElement('beforeend', studentRow);\n  });\n  this.tableWrapper.insertAdjacentElement('afterbegin', groupTable);\n};\n","import { GroupList } from './newGroupTable.js';\n\nconst slider = document.querySelector('.slider');\nconst groupListEl = document.querySelector('.group-list');\n\n// Gets data from groups\nasync function fetchData() {\n  const urlGroups = 'http://localhost:3000/groups';\n  const response = await fetch(urlGroups);\n  console.log(response);\n  const data = await response.json();\n\n  data.forEach(item => {\n    sliderData(item);\n  });\n}\n\nfetchData();\n\n// When card is clicked, clicked = false\nfunction sliderClickHandling(sliderWrapper) {\n  console.log(sliderWrapper.childNodes);\n  sliderWrapper.childNodes.forEach(card => (card.dataset.clicked = 'false'));\n}\n\n// Create a slider card deppending on how many groups there are\nfunction sliderData(groupData) {\n  const sliderInnerCard = document.createElement('div');\n  sliderInnerCard.classList.add('sliderCard');\n  sliderInnerCard.setAttribute('data-clicked', false);\n  sliderInnerCard.addEventListener('click', e => {\n    // Before adding clicked = true, every slider clicked turns to false\n    sliderClickHandling(slider);\n    e.currentTarget.dataset.clicked = true;\n    groupListEl.childNodes.forEach(table => {\n      table.style.display = 'none';\n      // If groups tables name attribute = group name from server, shows table\n      if (table.dataset.group_name === groupData.group_name) {\n        table.style.display = 'grid';\n      }\n    });\n  });\n  sliderInnerCard.innerHTML = `\n    <figure>${groupData.group_icon}</figure>\n    <h5>${groupData.group_name}</h5>\n    <p><span>${groupData.students.length}</span> /20</p>\n  `;\n  slider.insertAdjacentElement('beforeend', sliderInnerCard);\n  new GroupList(groupData, groupListEl);\n}\n"]}